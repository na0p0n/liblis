<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta charset="UTF-8">
    <title>ログイン</title>
    <style>
        /* 画面全体の中央に配置するための設定 */
        body {
            background-color: #f8f9fa;
        }
        .login-container {
            min-vh-100: 100vh; /* 画面の高さ一杯を確保 */
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body class="bg-light d-flex align-items-center justify-content-center vh-100">

<div class="card shadow-sm" style="width: 100%; max-width: 450px;">
    <div class="card-header bg-white py-3">
        <h5 class="mb-0 text-center fw-bold">ログイン</h5>
    </div>
    <div class="card-body p-4">
        <div th:if="${param.error}" class="alert alert-danger p-2 small">
            <span th:if="${param.error[0] == 'true'}">メールアドレスまたはパスワードが正しくありません。</span>
            <span th:if="${param.error[0] == 'oauth2_failure'}">
                このSNSアカウントは連携されていません。先にログインして設定画面から連携してください。
            </span>
        </div>

        <div th:if="${param.logout}" class="alert alert-info p-2 small">
            ログアウトしました。
        </div>

        <form th:action="@{/login}" method="post">
            <div class="mb-3">
                <label for="email" class="form-label fw-bold small">メールアドレス</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="name@example.com" required>
            </div>
            <div class="mb-4">
                <label for="password" class="form-label fw-bold small">パスワード</label>
                <input type="password" class="form-control" id="password" name="password" required>
            </div>

            <div class="d-grid d-md-flex justify-content-md-end">
                <button type="submit" class="btn btn-primary px-4">ログイン</button>
            </div>
        </form>

        <hr class="my-4">

        <div class="text-center">
            <p class="text-muted small mb-3">または他サービスでログイン</p>

            <div class="mb-2">
                <a th:href="@{/oauth2/authorization/google}" class="d-inline-block">
                    <img src="https://developers.google.com/identity/images/btn_google_signin_light_normal_web.png"
                         alt="Googleでログイン" style="height: 42px;">
                </a>
            </div>

            <div class="mb-2 d-grid">
                <a th:href="@{/oauth2/authorization/github}" class="btn btn-dark" style="background-color: #24292f;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github me-2" viewBox="0 0 16 16">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    GitHubでサインイン
                </a>
            </div>

            <div class="mb-2 d-grid">
                <a th:href="@{/oauth2/authorization/apple}" class="btn btn-outline-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-apple me-2" viewBox="0 0 16 16">
                        <path d="M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516.024.034 1.52.087 2.475-1.258.955-1.345.762-2.391.728-2.43Zm3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422.212-2.189 1.675-2.789 1.698-2.854.023-.065-.597-.79-1.254-1.157a3.692 3.692 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.308.083-.695.252-1.027.252-.319 0-.65-.166-.977-.252-.594-.153-1.042-.01-1.375.116-1.66.638-2.255 2.342-2.303 3.07-.033.52.039 1.477.312 2.264.353.988.882 1.945 1.616 1.945.293 0 .54-.155.856-.309.315-.153.641-.313.985-.313.358 0 .642.164.946.313.315.154.602.309.91.309.835 0 1.34-.74 1.817-1.446.516-.761.694-1.276.711-1.293ZM10.53 4.83c-.139 0-.324.03-.532.09-.138.04-.291.1-.444.1-.117 0-.256-.043-.382-.072a4.29 4.29 0 0 0-.622-.09c-.454 0-.8.19-1.069.19-.235 0-.467-.132-.712-.19a2.595 2.595 0 0 0-.91-.01c-.475.094-.837.346-1.055.592 1.243 1.313 1.042 3.6 1.042 3.6-.022.065.594.854 1.228.854.13 0 .26-.03.394-.06.401-.09.771-.248 1.183-.248.302 0 .604.056.9.152.566.183.983.488 1.425.488.93 0 1.556-.657 2.09-1.39.399-.556.544-1.13.544-1.13a2.756 2.756 0 0 1-1.931-2.457c0-1.532 1.28-2.311 1.28-2.311-.046-.165-.682-.866-1.412-.957a2.6 2.6 0 0 0-.894-.148Z"/>
                    </svg>
                    Appleでサインイン
                </a>
            </div>
        </div>
    </div>
</div>

</body>
</html>